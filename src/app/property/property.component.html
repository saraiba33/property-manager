<h2>Property Details</h2>
<div class="back-container">
    <a routerLink="/my-properties" class="back-link">Go back</a>
</div>

<p *ngIf="error; else propertyDetail" class="error">There was a problem getting the property list.</p>
<ng-template #propertyDetail>
    <section class="property-container" *ngIf="property">
        <img class="property-image" src="{{property.image}}" alt="{{property.id}}">
        <div class="property-info">
            <h3>Property Info:</h3>
            <h4>Address: </h4>
            <p>{{property.address}}</p>
            <h4>Status:</h4>
            <p>{{property.status}}</p>
            <h4>End Data: </h4>
            <p>{{property.endDate}}</p>
            <h4>Rent Amount: </h4>
            <p>${{property.rentAmount}}</p>
        </div>
        <div class="tenant-info">
            <h3>Tenant Info:</h3>
            <h4> Tenant 1: </h4>
            <p>{{property.tenant1}}</p>
            <p>{{property.tenant1Contact}}</p>
            <h4>Tenant 2:</h4>
            <p>{{property.tenant2}}</p>
            <p>{{property.tenant2Contact}}</p>
            <h4>Emergency Contact 1:</h4>
            <p>{{property.emergencyContact1}}</p>
            <p>{{property.emergencyNumber1}}</p>
            <h4>Emergency Contact 2: </h4>
            <p>{{property.emergencyContact2}}</p>
            <p>{{property.emergencyNumber2}}</p>
        </div>
        <div class="action-buttons">
            <button class="edit" (click)="showUpdateForm(property)">Edit</button>
            <button class="delete" (click)="deleteProperty(property.id)">Delete</button>
        </div>
        <div class="update-form">
            <h3 class="update-heading">Update Property Information</h3>
            <form #update="ngForm" (ngSubmit)="submitUpdate(property.id, update.value)">
                <div class="left-side">
                    <label class="address">Address</label>
                    <input name="address" type="text" placeholder="e.g. 123 Some Road" [(ngModel)]="property.address" />
                    <label>Property status</label>
                    <select name="status" [(ngModel)]="property.status">
            <option value="Rented">Rented</option>
            <option value="Vacant">Vacant</option>
            <option value="Under-renovation">Under Renovation</option>
          </select>
                    <label>Image Url</label>
                    <input name="image" type="text" [(ngModel)]="property.image" />

                    <label>Lease End Date</label>
                    <input name="endDate" type="date" [(ngModel)]="property.endDate" />

                    <label>Rent Amount</label>
                    <input name="rentAmount" type="number" [(ngModel)]="property.rentAmount" />
                </div>
                <div class="right-side">
                    <label>Tenant 1</label>
                    <input name="tenant1" type="text" placeholder="e.g. John Doe" [(ngModel)]="property.tenant1" />

                    <label>Contact Number</label>
                    <input name="tenant1Contact" type="text" placeholder="e.g. 555-555-5555" [(ngModel)]="property.tenant1Contact" />

                    <label>Tenant 2</label>
                    <input name="tenant2" type="text" placeholder="e.g. John Doe" [(ngModel)]="property.tenant2" />

                    <label>Contact Number</label>
                    <input name="tenant2Contact" type="text" placeholder="e.g. 555-555-5555" [(ngModel)]="property.tenant2Contact" />

                    <label>Emergency Contact 1</label>
                    <input name="emergencyContact1" type="text" placeholder="e.g. John Doe" [(ngModel)]="property.emergencyContact1" />

                    <label>Emergency Contact Number</label>
                    <input name="emergencyNumber1" type="text" placeholder="e.g. 555-555-5555" [(ngModel)]="property.emergencyNumber1" />

                    <label>Emergency Contact 2</label>
                    <input name="emergencyContact2" type="text" placeholder="e.g. John Doe" [(ngModel)]="property.emergencyContact2" />

                    <label>Emergency Contact Number</label>
                    <input name="emergencyNumber2" type="text" placeholder="e.g. 555-555-5555" [(ngModel)]="property.emergencyNumber2" />
                    <input class="update-button" type="submit" value="Update">
                    <button class="cancel-button" (click)="hideForm(property.id)">Cancel</button>
                </div>

            </form>
        </div>

    </section>
</ng-template>